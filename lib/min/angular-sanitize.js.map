{"version":3,"file":"angular-sanitize.js","sources":["../angular-sanitize.js"],"names":["window","angular","$SanitizeProvider","this","$get","$$sanitizeUri","html","buf","htmlParser","htmlSanitizeWriter","uri","isImage","test","join","sanitizeText","chars","writer","noop","makeMap","str","i","obj","items","split","length","handler","parseStartTag","tag","tagName","rest","unary","lowercase","blockElements","stack","last","inlineElements","parseEndTag","optionalEndTagElements","voidElements","push","attrs","replace","ATTR_REGEXP","match","name","doubleQuotedValue","singleQuotedValue","unquotedValue","value","decodeEntities","start","pos","end","index","text","specialElements","RegExp","all","COMMENT_REGEXP","CDATA_REGEXP","indexOf","lastIndexOf","comment","substring","DOCTYPE_REGEXP","BEGING_END_TAGE_REGEXP","END_TAG_REGEXP","BEGIN_TAG_REGEXP","START_TAG_REGEXP","$sanitizeMinErr","parts","spaceRe","exec","spaceBefore","spaceAfter","content","hiddenPre","innerHTML","textContent","innerText","encodeEntities","SURROGATE_PAIR_REGEXP","hi","charCodeAt","low","NON_ALPHANUMERIC_REGEXP","uriValidator","ignore","out","bind","validElements","forEach","key","lkey","validAttrs","uriAttrs","$$minErr","optionalEndTagBlockElements","optionalEndTagInlineElements","extend","document","createElement","module","provider","filter","$sanitize","LINKY_URL_REGEXP","MAILTO_REGEXP","target","addText","addLink","url","isDefined","raw","substr"],"mappings":"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"}